---
layout:     post
title:      CentOS7修改网卡名为eth0
subtitle:   Mac终端显示输树状文件结构
date:       2017-06-02
author:     DY
header-img: img/post-bg-universe
catalog: true
tags:
    - network
    - eth0
---

>  CentOS7修改网卡名为eth0

# Centos7修改默认网卡名称为eth0
> CentOS7 默认的网卡名称和设备名称是随机的，如果要修改网卡名称以`eth`开头，有两种方式，如下

[TOC]

## 第一种方式
> 此方法适合在安装操作系统的时候进行设置。
**点击`Tab`,打开`Kernel`启动选项**
![](http://upload-images.jianshu.io/upload_images/3149961-1d52fe7446aa0a52.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**增加内核参数**：`net.ifnames=0` `biosdevname=0`
![](http://upload-images.jianshu.io/upload_images/3149961-fb44c7b8bca228e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

输入完成之后回车正常安装操作系统就好了
## 第二种方式

### 1.修改网卡配置文件中的`DEVICE=` 参数为`eth0`

```
# cd /etc/sysconfig/network-scripts/
# vim ifcfg-eno16777736 
# Generated by parse-kickstart
IPV6INIT=yes
IPV6_AUTOCONF=yes
BOOTPROTO=none
#DEVICE=eno16777736
DEVICE=eth0
ONBOOT=yes
UUID=c2843ec4-9ae2-41a9-8060-89e1747cc625
TYPE=Ethernet
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
NAME="System eno16777736"
DNS1=172.18.0.1
IPADDR=172.18.12.122
PREFIX=16
GATEWAY=172.18.0.1
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes
```

### 2.网卡配置文件名称修改为`ifcfg-eth0`

```
# mv ifcfg-eno16777736  ifcfg-eth0
```

### 3.编辑`/etc/default/grub`加上两个参数
> 因为`CentOS7`采用`grub2`引导，还需要对`grub2`进行修改。编辑`/etc/default/grub`配置文件，在`GRUB_CMDLINE_LINUX`这个参数后面加上`net.ifname=0 biosdevname=0`

```
# vim /etc/default/grub 
GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR="$(sed 's, release .*$,,g' /etc/system-release)"
GRUB_DEFAULT=saved
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT="console"
GRUB_CMDLINE_LINUX="rhgb quiet net.ifnames=0 biosdevname=0"
GRUB_DISABLE_RECOVERY="true"
```

### 4.运行`grub2-mkconfig`命令重新生成`GRUB`配置并更新到内核

```
# grub2-mkconfig  -o /boot/grub2/grub.cfg 
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.10.0-327.el7.x86_64
Found initrd image: /boot/initramfs-3.10.0-327.el7.x86_64.img
Found linux image: /boot/vmlinuz-0-rescue-5170e272310d4c52a842753e4a115668
Found initrd image: /boot/initramfs-0-rescue-5170e272310d4c52a842753e4a115668.img
done
```

### 5.重启系统生效
>注意：必须要重启系统，重启网络是没用的

```
# reboot
```

### 6.验证

```
# ifconfig 
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
      inet 172.18.12.122  netmask 255.255.0.0  broadcast 172.18.255.255
      inet6 fe80::20c:29ff:fe35:6611  prefixlen 64  scopeid 0x20<link>
      ether 00:0c:29:35:66:11  txqueuelen 1000  (Ethernet)
      RX packets 794  bytes 72597 (70.8 KiB)
      RX errors 0  dropped 2  overruns 0  frame 0
      TX packets 112  bytes 15222 (14.8 KiB)
      TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
      lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
      inet 127.0.0.1  netmask 255.0.0.0
      inet6 ::1  prefixlen 128  scopeid 0x10<host>
      loop  txqueuelen 0  (Local Loopback)
      RX packets 4  bytes 340 (340.0 B)
      RX errors 0  dropped 0  overruns 0  frame 0
      TX packets 4  bytes 340 (340.0 B)
      TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```

